<mat-card class="margin-24">
  <mat-card-header>
    <mat-card-title> Nueva Dependencia Usuaria </mat-card-title>
  </mat-card-header>
  <mat-divider></mat-divider>

  <form novalidate [formGroup]='form' *ngIf='coordinaciones'>

    <mat-card-content class="margin-bottom-24">
      <mat-grid-list cols="3" >
        <mat-grid-tile>
          <mat-form-field>
            <mat-label>Coordinaciones</mat-label>
            <mat-select formControlName='coordinacion_id'>
              <mat-option *ngFor='let coordinacion of coordinaciones' [value]='coordinacion.id'> {{coordinacion.nombre}} </mat-option>
            </mat-select>
            <mat-error *ngIf="form.controls['coordinacion_id'].hasError('required')"> Un Elemento de la lista debe ser seleccionado</mat-error>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
          <mat-form-field *ngIf='subcoordinaciones'>
            <mat-label>Subcoordinaciones</mat-label>
            <mat-select formControlName='subcoordinacion_id'>
              <mat-option *ngFor='let subcoordinacion of subcoordinaciones' [value]='subcoordinacion.id'> {{subcoordinacion.nombre}} </mat-option>
            </mat-select>
              <mat-error *ngIf="form.controls['subcoordinacion_id'].hasError('required')"> Un Elemento de la lista debe ser seleccionado</mat-error>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
          <mat-form-field *ngIf='unidadAdministrativas'>
            <mat-label>Unidad Administrativa</mat-label>
            <mat-select formControlName='unidad_administrativa_id'>
              <mat-option *ngFor='let unidadAdministrativa of unidadAdministrativas' [value]='unidadAdministrativa.id'> {{unidadAdministrativa.nombre}} </mat-option>
            </mat-select>
            <mat-error *ngIf="form.controls['unidad_administrativa_id'].hasError('required')"> Un Elemento de la lista debe ser seleccionado</mat-error>
          </mat-form-field>
        </mat-grid-tile>
      </mat-grid-list>




      <mat-form-field *ngIf='tipoDependenciaUsuarias && unidadAdministrativas'>
        <mat-label>Tipo Dependencia Usuaria</mat-label>
        <mat-select formControlName='tipo_dependencia_usuaria_id'>
          <mat-option *ngFor='let tipoDependenciaUsuaria of tipoDependenciaUsuarias' [value]='tipoDependenciaUsuaria.id'> {{tipoDependenciaUsuaria.nombre}} </mat-option>
        </mat-select>
        <mat-error *ngIf="form.controls['tipo_dependencia_usuaria_id'].hasError('required')"> Un Elemento de la lista debe ser seleccionado</mat-error>
      </mat-form-field>

      <mat-form-field *ngIf='tipoDependenciaUsuarias && unidadAdministrativas'>
        <input type="text" matInput formControlName='nombre' maxlength="100">
        <mat-label>Nombre</mat-label>
        <mat-error *ngIf="form.controls['nombre'].hasError('required')"> Este elemento no debe estar vacio</mat-error>
        <mat-error *ngIf="form.controls['nombre'].hasError('minlength')"> Este elemento no cumple con la longitud minima permitida </mat-error>
        <mat-error *ngIf="form.controls['nombre'].hasError('maxlenght')"> Este elemento no excede la longitud maxima permitida </mat-error>
      </mat-form-field>

    </mat-card-content>
    <mat-card-actions align="end">
      <button mat-raised-button color='primary' (click)="add('listar')" [disabled]='!form.valid' > Guardar y Listar</button>
      <button mat-raised-button color='primary' (click)="add('mas')" [disabled]='!form.valid' class="margin-left-16"> Guardar y Agregar uno Nuevo</button>
    </mat-card-actions>
  </form>
</mat-card>
